<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Shoulda.html</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            Shoulda.html
        </h1>
        <ul class="files">
            <li>doc/classes/Paperclip/Shoulda.html</li>
            <li>Last modified: Mon Dec 14 11:22:38 +0100 2009</li>
        </ul>
    </div>

    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
<?xml version=&#8220;1.0&#8220; encoding=&#8220;iso-8859-1&#8221;?>
<!DOCTYPE html
</p>
<pre>
     PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;
     &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
</pre>
<p>
<html xmlns=&#8220;<a
href="http://www.w3.org/1999/xhtml">www.w3.org/1999/xhtml</a>&#8220;
xml:lang=&#8220;en&#8221; lang=&#8220;en&#8221;> <head>
</p>
<pre>
  &lt;title&gt;Module: Paperclip::Shoulda&lt;/title&gt;
  &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
  &lt;meta http-equiv=&quot;Content-Script-Type&quot; content=&quot;text/javascript&quot; /&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;../.././rdoc-style.css&quot; type=&quot;text/css&quot; media=&quot;screen&quot; /&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
  // &lt;![CDATA[

  function popupCode( url ) {
    window.open(url, &quot;Code&quot;, &quot;resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400&quot;)
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( &quot;document.all.&quot; + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != &quot;block&quot; ) {
      elemStyle.display = &quot;block&quot;
    } else {
      elemStyle.display = &quot;none&quot;
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( &quot;&lt;style type=\&quot;text/css\&quot;&gt;div.method-source-code { display: none }&lt;/style&gt;&quot; )

  // ]]&gt;
  &lt;/script&gt;
</pre>
<p>
</head> <body>
</p>
<pre>
    &lt;div id=&quot;classHeader&quot;&gt;
        &lt;table class=&quot;header-table&quot;&gt;
        &lt;tr class=&quot;top-aligned-row&quot;&gt;
          &lt;td&gt;&lt;strong&gt;Module&lt;/strong&gt;&lt;/td&gt;
          &lt;td class=&quot;class-name-in-header&quot;&gt;Paperclip::Shoulda&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr class=&quot;top-aligned-row&quot;&gt;
            &lt;td&gt;&lt;strong&gt;In:&lt;/strong&gt;&lt;/td&gt;
            &lt;td&gt;
                &lt;a href=&quot;../../files/shoulda_macros/paperclip_rb.html&quot;&gt;
                shoulda_macros/paperclip.rb
                &lt;/a&gt;
        &lt;br /&gt;
                &lt;a href=&quot;../../files/lib/paperclip/matchers/validate_attachment_presence_matcher_rb.html&quot;&gt;
                lib/paperclip/matchers/validate_attachment_presence_matcher.rb
                &lt;/a&gt;
        &lt;br /&gt;
                &lt;a href=&quot;../../files/lib/paperclip/matchers/validate_attachment_content_type_matcher_rb.html&quot;&gt;
                lib/paperclip/matchers/validate_attachment_content_type_matcher.rb
                &lt;/a&gt;
        &lt;br /&gt;
                &lt;a href=&quot;../../files/lib/paperclip/matchers/have_attached_file_matcher_rb.html&quot;&gt;
                lib/paperclip/matchers/have_attached_file_matcher.rb
                &lt;/a&gt;
        &lt;br /&gt;
                &lt;a href=&quot;../../files/lib/paperclip/matchers/validate_attachment_size_matcher_rb.html&quot;&gt;
                lib/paperclip/matchers/validate_attachment_size_matcher.rb
                &lt;/a&gt;
        &lt;br /&gt;
            &lt;/td&gt;
        &lt;/tr&gt;

        &lt;/table&gt;
    &lt;/div&gt;
  &lt;!-- banner header --&gt;

  &lt;div id=&quot;bodyContent&quot;&gt;

  &lt;div id=&quot;contextContent&quot;&gt;

    &lt;div id=&quot;description&quot;&gt;
      &lt;h1&gt;&lt;a href=&quot;../Paperclip.html&quot;&gt;Paperclip&lt;/a&gt; &lt;a href=&quot;Shoulda.html&quot;&gt;Shoulda&lt;/a&gt; Macros&lt;/h1&gt;
</pre>
<p>
<p> These macros are intended for use with shoulda, and will be included
into your tests automatically. All of the macros use the standard shoulda
assumption that the name of the test is based on the name of the model
you&amp;8216;re testing (that is, UserTest is the test for the User model),
and will load that class for testing purposes. </p>
</p>
<pre>
    &lt;/div&gt;

   &lt;/div&gt;

    &lt;div id=&quot;method-list&quot;&gt;
      &lt;h3 class=&quot;section-bar&quot;&gt;Methods&lt;/h3&gt;

      &lt;div class=&quot;name-list&quot;&gt;
      &lt;a href=&quot;#M000049&quot;&gt;paperclip_fixture&lt;/a&gt;&amp;nbsp;&amp;nbsp;
      &lt;a href=&quot;#M000044&quot;&gt;should_have_attached_file&lt;/a&gt;&amp;nbsp;&amp;nbsp;
      &lt;a href=&quot;#M000046&quot;&gt;should_validate_attachment_content_type&lt;/a&gt;&amp;nbsp;&amp;nbsp;
      &lt;a href=&quot;#M000045&quot;&gt;should_validate_attachment_presence&lt;/a&gt;&amp;nbsp;&amp;nbsp;
      &lt;a href=&quot;#M000047&quot;&gt;should_validate_attachment_size&lt;/a&gt;&amp;nbsp;&amp;nbsp;
      &lt;a href=&quot;#M000048&quot;&gt;stub_paperclip_s3&lt;/a&gt;&amp;nbsp;&amp;nbsp;
      &lt;/div&gt;
    &lt;/div&gt;

  &lt;/div&gt;

    &lt;!-- if includes --&gt;
    &lt;div id=&quot;includes&quot;&gt;
      &lt;h3 class=&quot;section-bar&quot;&gt;Included Modules&lt;/h3&gt;

      &lt;div id=&quot;includes-list&quot;&gt;
        &lt;span class=&quot;include-name&quot;&gt;&lt;a href=&quot;Shoulda/Matchers.html&quot;&gt;Matchers&lt;/a&gt;&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;section&quot;&gt;

    &lt;div id=&quot;class-list&quot;&gt;
      &lt;h3 class=&quot;section-bar&quot;&gt;Classes and Modules&lt;/h3&gt;

      Module &lt;a href=&quot;Shoulda/Matchers.html&quot; class=&quot;link&quot;&gt;Paperclip::Shoulda::Matchers&lt;/a&gt;&lt;br /&gt;

    &lt;/div&gt;

    &lt;!-- if method_list --&gt;
    &lt;div id=&quot;methods&quot;&gt;
      &lt;h3 class=&quot;section-bar&quot;&gt;Public Instance methods&lt;/h3&gt;

      &lt;div id=&quot;method-M000049&quot; class=&quot;method-detail&quot;&gt;
        &lt;a name=&quot;M000049&quot;&gt;&lt;/a&gt;

        &lt;div class=&quot;method-heading&quot;&gt;
          &lt;a href=&quot;Shoulda.src/M000049.html&quot; target=&quot;Code&quot; class=&quot;method-signature&quot;
            onclick=&quot;popupCode('Shoulda.src/M000049.html');return false;&quot;&gt;
          &lt;span class=&quot;method-name&quot;&gt;paperclip_fixture&lt;/span&gt;&lt;span class=&quot;method-args&quot;&gt;(model, attachment, extension)&lt;/span&gt;
          &lt;/a&gt;
        &lt;/div&gt;

        &lt;div class=&quot;method-description&quot;&gt;
          &lt;p&gt;
</pre>
<p>
Stub S3 and return a file for attachment. Best with <a
href=&#8221;../Factory.html&#8220;>Factory</a> Girl. Uses a strict
directory convention: </p> <pre>
</p>
<pre>
    features/support/paperclip
</pre>
<p>
</pre> <p> This method is used by the <a
href=&#8221;../Paperclip.html&#8220;>Paperclip</a>-provided Cucumber step:
</p> <pre>
</p>
<pre>
    When I attach a &amp;quot;demo_tape&amp;quot; &amp;quot;mp3&amp;quot; file to a &amp;quot;band&amp;quot; on S3
</pre>
<p>
</pre> <p> @example </p> <pre>
</p>
<pre>
  Factory.define :band_with_demo_tape, :parent =&amp;gt; :band do |band|
    band.demo_tape { band.paperclip_fixture(&amp;quot;band&amp;quot;, &amp;quot;demo_tape&amp;quot;, &amp;quot;png&amp;quot;) }
  end
</pre>
<p>
</pre>
</p>
<pre>
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div id=&quot;method-M000044&quot; class=&quot;method-detail&quot;&gt;
        &lt;a name=&quot;M000044&quot;&gt;&lt;/a&gt;

        &lt;div class=&quot;method-heading&quot;&gt;
          &lt;a href=&quot;Shoulda.src/M000044.html&quot; target=&quot;Code&quot; class=&quot;method-signature&quot;
            onclick=&quot;popupCode('Shoulda.src/M000044.html');return false;&quot;&gt;
          &lt;span class=&quot;method-name&quot;&gt;should_have_attached_file&lt;/span&gt;&lt;span class=&quot;method-args&quot;&gt;(name)&lt;/span&gt;
          &lt;/a&gt;
        &lt;/div&gt;

        &lt;div class=&quot;method-description&quot;&gt;
          &lt;p&gt;
</pre>
<p>
This will test whether you have defined your attachment correctly by
checking for all the required fields exist after the definition of the
attachment. </p>
</p>
<pre>
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div id=&quot;method-M000046&quot; class=&quot;method-detail&quot;&gt;
        &lt;a name=&quot;M000046&quot;&gt;&lt;/a&gt;

        &lt;div class=&quot;method-heading&quot;&gt;
          &lt;a href=&quot;Shoulda.src/M000046.html&quot; target=&quot;Code&quot; class=&quot;method-signature&quot;
            onclick=&quot;popupCode('Shoulda.src/M000046.html');return false;&quot;&gt;
          &lt;span class=&quot;method-name&quot;&gt;should_validate_attachment_content_type&lt;/span&gt;&lt;span class=&quot;method-args&quot;&gt;(name, options = {})&lt;/span&gt;
          &lt;/a&gt;
        &lt;/div&gt;

        &lt;div class=&quot;method-description&quot;&gt;
          &lt;p&gt;
</pre>
<p>
Tests that you have content_type validations specified. There are two
options, :valid and :invalid. Both accept an array of strings. The strings
should be a list of content types which will pass and fail validation,
respectively. </p>
</p>
<pre>
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div id=&quot;method-M000045&quot; class=&quot;method-detail&quot;&gt;
        &lt;a name=&quot;M000045&quot;&gt;&lt;/a&gt;

        &lt;div class=&quot;method-heading&quot;&gt;
          &lt;a href=&quot;Shoulda.src/M000045.html&quot; target=&quot;Code&quot; class=&quot;method-signature&quot;
            onclick=&quot;popupCode('Shoulda.src/M000045.html');return false;&quot;&gt;
          &lt;span class=&quot;method-name&quot;&gt;should_validate_attachment_presence&lt;/span&gt;&lt;span class=&quot;method-args&quot;&gt;(name)&lt;/span&gt;
          &lt;/a&gt;
        &lt;/div&gt;

        &lt;div class=&quot;method-description&quot;&gt;
          &lt;p&gt;
</pre>
<p>
Tests for validations on the presence of the attachment. </p>
</p>
<pre>
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div id=&quot;method-M000047&quot; class=&quot;method-detail&quot;&gt;
        &lt;a name=&quot;M000047&quot;&gt;&lt;/a&gt;

        &lt;div class=&quot;method-heading&quot;&gt;
          &lt;a href=&quot;Shoulda.src/M000047.html&quot; target=&quot;Code&quot; class=&quot;method-signature&quot;
            onclick=&quot;popupCode('Shoulda.src/M000047.html');return false;&quot;&gt;
          &lt;span class=&quot;method-name&quot;&gt;should_validate_attachment_size&lt;/span&gt;&lt;span class=&quot;method-args&quot;&gt;(name, options = {})&lt;/span&gt;
          &lt;/a&gt;
        &lt;/div&gt;

        &lt;div class=&quot;method-description&quot;&gt;
          &lt;p&gt;
</pre>
<p>
Tests to ensure that you have file size validations turned on. You can pass
the same options to this that you can to validate_attachment_file_size -
:less_than, :greater_than, and :in. :less_than checks that a file is less
than a certain size, :greater_than checks that a file is more than a
certain size, and :in takes a Range or Array which specifies the lower and
upper limits of the file size. </p>
</p>
<pre>
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div id=&quot;method-M000048&quot; class=&quot;method-detail&quot;&gt;
        &lt;a name=&quot;M000048&quot;&gt;&lt;/a&gt;

        &lt;div class=&quot;method-heading&quot;&gt;
          &lt;a href=&quot;Shoulda.src/M000048.html&quot; target=&quot;Code&quot; class=&quot;method-signature&quot;
            onclick=&quot;popupCode('Shoulda.src/M000048.html');return false;&quot;&gt;
          &lt;span class=&quot;method-name&quot;&gt;stub_paperclip_s3&lt;/span&gt;&lt;span class=&quot;method-args&quot;&gt;(model, attachment, extension)&lt;/span&gt;
          &lt;/a&gt;
        &lt;/div&gt;

        &lt;div class=&quot;method-description&quot;&gt;
          &lt;p&gt;
</pre>
<p>
Stubs the HTTP PUT for an attachment using S3 storage. </p> <p> @example
</p> <pre>
</p>
<pre>
  stub_paperclip_s3('user', 'avatar', 'png')
</pre>
<p>
</pre>
</p>
<pre>
        &lt;/div&gt;
      &lt;/div&gt;

    &lt;/div&gt;

  &lt;/div&gt;
</pre>
<p>
<div id=&#8220;validator-badges&#8221;>
</p>
<pre>
  &lt;p&gt;&lt;small&gt;&lt;a href=&quot;http://validator.w3.org/check/referer&quot;&gt;[Validate]&lt;/a&gt;&lt;/small&gt;&lt;/p&gt;
</pre>
<p>
</div>
</p>
<p>
</body> </html>
</p>

    </div>
    

    

    
    

    
    

    

    

    

    

    

    
</div>
    </div>
  </body>
</html>